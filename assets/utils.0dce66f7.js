import{c as d}from"./elevation.3f910c19.js";import{x as u,C as s,g}from"./vendor.8243c41e.js";function f(e){const t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()}function l(e){return Object.entries(e!=null?e:{}).reduce((t,[n,o])=>{const a=n.startsWith("--")?n:`--${f(n)}`;return t[a]=o,t},{})}const r=[];function w(e={}){r.forEach(n=>document.documentElement.style.removeProperty(n)),r.length=0;const t=l(e);Object.entries(t).forEach(([n,o])=>{document.documentElement.style.setProperty(n,o),r.push(n)})}function c(){return g(d,"themesKey")}function E(){const[,e,t]=window.location.hash.split("/");return{language:e,menuName:t}}var i;(function(e){e[e.TITLE=1]="TITLE",e[e.COMPONENT=2]="COMPONENT",e[e.DOCUMENTATION=3]="DOCUMENTATION"})(i||(i={}));function h(){const{href:e}=window.location,t=e.slice(e.indexOf("?"));return new URLSearchParams(t)}function C(e,t="mobile"){const n=()=>{var a;const o=t==="mobile"?(a=h().get("language"))!=null?a:"zh-CN":E().language;e(o)};m(n),n()}function O(e){const t=()=>{var o;const n=(o=h().get("platform"))!=null?o:"mobile";e(n)};m(t),t()}function v(e,t=!0){const n=o=>{const{data:a}=o;a.action==="themesChange"&&e(a.data,a.from)};window.addEventListener("message",n),t&&s(()=>{window.removeEventListener("message",n)}),e(L(),"default")}function m(e){u(()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),s(()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function L(){var t;let e=window.localStorage.getItem(c());return e||(e=((t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)?"darkThemes":"themes",window.localStorage.setItem(c(),e)),e}function N(e,t){v(n=>{w(n==="darkThemes"?e:null),t==null||t(n)})}export{N as a,O as b,L as g,C as w};
